[env]
RUST_LOG = "debug"
RUST_BACKTRACE = "1"

[test]
harness = true

[target.'cfg(unix)']
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[alias]
nexa_test = "test -- --nocapture --test-threads=1 --show-output"

[build]
target-dir = "target"

[target.'cfg(target_os = "macos")']
rustflags = [
  "-C", "link-arg=-undefined",
  "-C", "link-arg=dynamic_lookup",
]

[target.'cfg(target_os = "linux")']
rustflags = [
  "-C", "link-arg=-Wl,-rpath,$ORIGIN",
] 